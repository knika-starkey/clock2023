<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      /* .example_path {
        width: 400px;
        height: 50px;
        background: yellow;
      } */
      /* .example_block {
        width: 50px;
        height: 50px;
        background: blue;
        position: relative;
        left: 0px;
      } */
    </style>
  </head>
  <body>
    <canvas id="ship" width="1000" height="200"> </canvas>
    <button onclick="moveL()">&lt;</button>
    <button onclick="moveR()">&gt;</button>

    <button onclick="stop()">Стоп</button>
    <script>
      let x = 0;
      let timer;
      let left = 0; // начальное значение
      function moveR() {
        stop();
        timer = setInterval(drawFrame, 20, true);
      }
      function moveL() {
        stop();
        timer = setInterval(drawFrame, 20, false);
      }
      function stop() {
        clearInterval(timer); // завершить анимацию
      }
      window.onload = function () {
        canvas = document.getElementById("ship");
        context = canvas.getContext("2d");
        drawFrame();
      };
      function drawFrame(side) {
        context.clearRect(0, 0, canvas.width, canvas.height);
        let drawingCanvas = document.getElementById("ship");
        if (drawingCanvas && drawingCanvas.getContext) {
          if (side) {
            let context = drawingCanvas.getContext("2d");
            context.beginPath();
            context.fillStyle = "orange";
            context.moveTo(x + 30, 150);
            context.quadraticCurveTo(x + 80, 100, x + 130, 150);
            context.quadraticCurveTo(x + 80, 200, x + 30, 150);
            context.fill();

            // context.beginPath();
            // context.strokeStyle = "brown";
            // context.arc(230, 150, 10, Math.PI, 2 * Math.PI);
            // context.stroke();

            // Eye of the fish
            context.beginPath();
            context.fillStyle = "white";
            context.arc(x + 100, 150, 10, 0, Math.PI * 2, true);
            context.fill();

            context.beginPath();
            context.fillStyle = "black";
            context.arc(x + 100, 150, 5, 0, Math.PI * 2, true);
            context.fill();

            // Tail of the fish
            context.beginPath();
            context.fillStyle = "gold";
            context.moveTo(x + 30, 150);
            context.quadraticCurveTo(x + 20, 120, x, 140);
            context.quadraticCurveTo(x + 20, 160, x + 30, 150);
            context.fill();

            context.beginPath();
            context.fillStyle = "gold";
            context.moveTo(x + 30, 150);
            context.quadraticCurveTo(x + 20, 140, x, 160);
            context.quadraticCurveTo(x + 20, 180, x + 30, 150);
            context.fill();

            context.beginPath();
            context.fillStyle = "gold";
            context.moveTo(x + 90, 160);
            context.quadraticCurveTo(x + 80, 150, x + 60, 170);
            context.quadraticCurveTo(x + 80, 190, x + 90, 160);
            context.fill();

            context.beginPath();
            context.fillStyle = "gold";
            context.moveTo(x + 90, 125);
            context.quadraticCurveTo(x + 60, 125, x + 60, 130);
            context.quadraticCurveTo(x + 60, 95, x + 100, 130);
            context.fill();
          } else {
            context.beginPath();
            context.fillStyle = "orange";
            context.moveTo(x + 100, 150);
            context.quadraticCurveTo(x + 50, 100, x + 0, 150);
            context.quadraticCurveTo(x + 50, 200, x + 100, 150);
            context.fill();

            // context.beginPath();
            // context.strokeStyle = "brown";
            // context.arc(230, 150, 10, Math.PI, 2 * Math.PI);
            // context.stroke();

            // Eye of the fish
            context.beginPath();
            context.fillStyle = "white";
            context.arc(x + 30, 150, 10, 0, Math.PI * 2, true);
            context.fill();

            context.beginPath();
            context.fillStyle = "black";
            context.arc(x + 30, 150, 5, 0, Math.PI * 2, true);
            context.fill();

            // Tail of the fish
            context.beginPath();
            context.fillStyle = "gold";
            context.moveTo(x + 100, 150);
            context.quadraticCurveTo(x + 110, 120, x + 130, 140);
            context.quadraticCurveTo(x + 110, 160, x + 100, 150);
            context.fill();

            context.beginPath();
            context.fillStyle = "gold";
            context.moveTo(x + 100, 150);
            context.quadraticCurveTo(x + 110, 140, x + 130, 160);
            context.quadraticCurveTo(x + 110, 180, x + 100, 150);
            context.fill();

            context.beginPath();
            context.fillStyle = "gold";
            context.moveTo(x + 40, 160);
            context.quadraticCurveTo(x + 50, 150, x + 70, 170);
            context.quadraticCurveTo(x + 50, 190, x + 40, 160);
            context.fill();

            context.beginPath();
            context.fillStyle = "gold";
            context.moveTo(x + 40, 125);
            context.quadraticCurveTo(x + 70, 125, x + 70, 130);
            context.quadraticCurveTo(x + 70, 95, x + 30, 130);
            context.fill();
          }
          // // Рисуем парус
          // context.beginPath();
          // context.fillStyle = "#fc0";
          // context.moveTo(x + 20, 70);
          // context.lineTo(x + 60, 20);
          // context.lineTo(x + 60, 70);
          // context.fill();
          // // Рисуем палубу
          // context.beginPath();
          // context.fillStyle = "#ccf";
          // context.moveTo(x, 70);
          // context.lineTo(x + 30, 100);
          // context.lineTo(x + 70, 100);
          // context.lineTo(x + 100, 70);
          // context.fill();
          // // Рисуем мачту
          // context.beginPath();
          // context.fillStyle = "#a60";
          // context.fillRect(x + 60, 5, 5, 65);
          // // Рисуем флаг
          // context.beginPath();
          // context.fillStyle = "#e49";
          // context.fillRect(x + 40, 5, 20, 10);
          // // Пишем название
          // context.fillStyle = "#00f";
          // context.font = "italic 20px sans-serif";
          // context.textBaseline = "top";
          // context.fillText("SHIP", x + 25, 75);
        }
        x += side ? 1 : -1;
        if (x <= 0) {
          x = 0;
          stop();
        } else if (x + 100 >= canvas.width) {
          x = canvas.width - 100;
          stop();
        }
      }
    </script>
  </body>
</html>
